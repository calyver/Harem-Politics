consort_hierarchy_score = {
    value = 60
	
	#Family bacground
	if = { #Liege
        limit = {
			any_close_family_member = {
				is_liege_or_above_of = scope:harem_master
			}
        }
        add = 500
    } 
	if = { #Powerful vassals
        limit = {
			any_close_family_member = {
				OR = {
					is_diarch_of_target = scope:harem_master
					is_powerful_vassal_of = scope:harem_master
					is_councillor_of = scope:harem_master
				}
			}
        }
        add = 400
    } 
	if = { #Children of kings
        limit = {
			any_close_family_member = {
				highest_held_title_tier >= tier_kingdom
			}
        }
        add = 350
    } 
	if = { #Children of dukes
        limit = {
			any_close_family_member = {
				highest_held_title_tier = tier_duchy
			}
        }
        add = 250
    } 
	if = { #Normal vassals
        limit = {
			any_close_family_member = {
				is_vassal_of = scope:harem_master
			}
        }
        add = 150
    } 
	if = { #Normal vassals
        limit = {
			is_lowborn = no
        }
        add = 15
    } 
	if = { #Acclaimed knights
        limit = {
			any_close_family_member = {
				AND = {	
					is_knight_of = scope:harem_master
					is_acclaimed = yes
				}
			}
        }
        add = 25
    } 
	if = { #Normal knights
        limit = {
			any_close_family_member = {
				is_knight_of = scope:harem_master
			}
        }
        add = 50
    } 
	if = { #Court officers
        limit = {
			any_close_family_member = {
				has_any_court_position = yes
			}
        }
        add = 20
    } 
	
	#Children
	if = { #Parent of the main heir
        limit = {
			any_child = {
				is_player_heir_of = scope:harem_master
			}
        }
        add = 90
    }
	if = { #Plenty of eligible heirs
        limit = {
			any_child = {
				is_child_of = scope:harem_master
				character_gender_can_rule_title_trigger = {
					GENDER = this
					TITLE = scope:harem_master.primary_title
				}
				count >= 5
			}
        }
        add = 10
    } 
	if = { #Many eligible heirs
        limit = {
			any_child = {
				is_child_of = scope:harem_master
				character_gender_can_rule_title_trigger = {
					GENDER = this
					TITLE = scope:harem_master.primary_title
				}
				count >= 3
			}
        }
        add = 10
    }
	if = { #Two eligible heirs
        limit = {
			any_child = {
				is_child_of = scope:harem_master
				character_gender_can_rule_title_trigger = {
					GENDER = this
					TITLE = scope:harem_master.primary_title
				}
				count >= 2
			}
        }
        add = 10
    }	
	if = { #An eligible heir
        limit = {
			any_child = {
				is_child_of = scope:harem_master
				character_gender_can_rule_title_trigger = {
					GENDER = this
					TITLE = scope:harem_master.primary_title
				}
				count >= 1
			}
        }
        add = 10
    }
	
	if = { #Plenty of eligible heirs
        limit = {
			any_child = {
				is_child_of = scope:harem_master
				character_gender_can_rule_title_trigger = {
					GENDER = this
					TITLE = scope:harem_master.primary_title
				}
				count >= 5
			}
        }
        add = 10
    } 
	if = { #Many eligible heirs
        limit = {
			any_child = {
				is_child_of = scope:harem_master
				character_gender_can_rule_title_trigger = {
					GENDER = this
					TITLE = scope:harem_master.primary_title
				}
				count >= 3
			}
        }
        add = 10
    }	
	if = { #An eligible heir
        limit = {
			any_child = {
				is_child_of = scope:harem_master
				character_gender_can_rule_title_trigger = {
					GENDER = this
					TITLE = scope:harem_master.primary_title
				}
				count >= 1
			}
        }
        add = 20
    }
	
	#Favor
	if = { #Soulmate
        limit = {
			has_relation_soulmate = scope:harem_master
        }
        add = 25
    }
	if = { #BFF
        limit = {
			has_relation_best_friend = scope:harem_master
        }
        add = 20
    }
	if = { #Lover
        limit = {
			has_relation_lover = scope:harem_master
        }
        add = 15
    }
	if = { #Friend
        limit = {
			has_relation_friend = scope:harem_master
        }
        add = 10
    }
	if = { #Favored consorts
        limit = {
			has_character_modifier = favored_consort_modifier
        }
        add = 10
    }
	if = { #Unfavored consorts
        limit = {
			has_character_modifier = unfavored_consort_modifier
        }
        add = -10
    }
	
	#Demoted consorts
	if = { #Former primary spouses
        limit = {
			has_character_modifier = demoted_primary_spouse_modifier
        }
        add = -50
    }
	if = { #Former GC
        limit = {
			has_character_flag = flag_demoted_grand_consort
        }
        add = -40
    }
	if = { #Former GC
        limit = {
			has_character_flag = flag_demoted_spouse
        }
        add = -30
    }
}