
namespace = marriage_interaction

#A concubine can become playable

marriage_interaction.0050 = {
	type = letter_event
	opening = {
		desc = char_interaction.0020.opening
	}
	desc = marriage_interaction.0050.desc

	sender = scope:actor

	option = {
		name = marriage_interaction.0050.a
	}
}

# Notification when demanding a concubine
marriage_interaction.9050 = {
	type = letter_event
	opening = {
		desc = call_ally.0001.opening
	}
	desc = marriage_interaction.9050.desc

	sender = scope:recipient

	immediate = {
		show_as_tooltip = {
			if = {
				limit = {
					exists = scope:was_concubine
				}
				remove_concubine = scope:secondary_actor
			}
			else_if = {
				limit = {
					exists = scope:was_spouse
				}
				scope:secondary_actor = {
					divorce = root # no opinion hit, no scripted effect
				}
			}
			else = {
				scope:secondary_actor = {
					break_betrothal = root
				}
			}
			scope:actor = {
				make_concubine = scope:secondary_actor
			}
		}
	}

	option = {
		name = marriage_interaction.0041.a
	}
}